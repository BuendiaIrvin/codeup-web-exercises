<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather App</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
<h1>Goodday Weather App!</h1>
<p id="insertWeather"></p>
<button id="the-button">Reread The JSON!</button>
<button id="the-button2">Reread The JSON!</button>

<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="js/keys.js"></script>
<script>
    $.get("http://api.openweathermap.org/data/2.5/weather", {
        APPID: WEATHER_MAP_TOKEN,
        lat:    29.423017,
        lon:   -98.48527,
        units: "imperial"
    }).done(function(data) {
        console.log('current', data);
        var zone = data.name
        var weth = data.main.feels_like
        var max = data.main.temp_max
        var min = data.main.temp_min
        var actual = data.weather[0].main




todaysWeather = [
    {
        date: 'Today',
        main: actual,
        feelsLike: Math.round(weth),
        tempMax: Math.round(max),
        tempMin: Math.round(min),
    }


    ]

    function buildStuff() {
        $("#insertWeather").html("");
            for (var j = 0; j < todaysWeather.length; j++) {
                var htmlStr = "<div id='weather-" + (j + 1) + "' class='card' style='margin: 2em'>";
                htmlStr += "<div class='card-body'>"
                htmlStr += "<h5 class='card-title'>" + todaysWeather[j].date + "</h5>";
                htmlStr += "<div class='card-text'>"
                htmlStr += "<p>" + "Feels like: " + todaysWeather[j].feelsLike + '°' + "</p>";
                htmlStr += "<p>" + "Weather: " + todaysWeather[j].main + "</p>";
                htmlStr += "<p>" + "High: " + todaysWeather[j].tempMax + '°' +  "</p>";
                htmlStr += "<p>" + "Low: " + todaysWeather[j].tempMin + '°' +  "</p>";
                htmlStr += "</div>";
                htmlStr += "</div>";
                htmlStr += "</div>";
                $("#insertWeather").append(htmlStr);
            }
    }

    $("#the-button").click(buildStuff);

    //
    // function buildStuff2() {
    //     $("#insertWeather2").html("");
    //     for (var j = 1; j < todaysWeather.length; j++) {
    //         var htmlStr = "<div id='weather-" + (j + 1) + "' class='card' style='margin: 2em'>";
    //         htmlStr += "<div class='card-body'>"
    //         htmlStr += "<h5 class='card-title'>" + todaysWeather[1].date + "</h5>";
    //         htmlStr += "<div class='card-text'>"
    //         htmlStr += "<p>" + "Feels like: " + todaysWeather[1].feelsLike + '°' + "</p>";
    //         htmlStr += "<p>" + "Weather: " + todaysWeather[1].main + "</p>";
    //         htmlStr += "<p>" + "High: " + todaysWeather[1].tempMax + '°' +  "</p>";
    //         htmlStr += "<p>" + "Low: " + todaysWeather[1].tempMin + '°' +  "</p>";
    //         htmlStr += "</div>";
    //         htmlStr += "</div>";
    //         htmlStr += "</div>";
    //         $("#insertWeather2").append(htmlStr);
    //     }
    // }
    //
    // $("#the-button2").click(buildStuff2);

    });




</script>
</body>
</html>